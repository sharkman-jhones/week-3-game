<!DOCTYPE html>
<html>
<head>
	<title>The Psychic Game</title>
</head>
<body>
<h1>The Psychic Game</h1>

<h2>Guess What letter I'm thinking of!</h2>

	<p>Wins: <div id="winCounter"></div></p>
	<p>Losses: <div id="lossCounter"></div></p>
	<p>Guesses Left: <div id="triesLeftCounter"></div></p>	
	<p>Your guesses so far: <div id="guessSoFar"></div></p>
	
	<div id="gameOverDiv">
		<h1>The Game is over!<h1><hr>Press SpaceBar to begin again!
	</div>

	<script type="text/javascript">
		var win = 0;
		var lose = 0;
		var triesLeft = 10;
		var guessList = [];
		var currentLetter = null;
		var letters = [
			"a","b","c","d","e","f","g","h","i","j","k","l","m",
			"n","o","p","q","r","s","t","u","v","w","x","y","z"
		];




		function updateCurrentLetter(){
			this.currentLetter = letters[Math.floor(Math.random()*letters.length)];
		}

		function updateGuessList(){
			document.getElementById("guessSoFar").innerHTML = guessList.join(", ")
		}

		function updateTriesLeft(){
			document.getElementById("triesLeftCounter").innerHTML = triesLeft;
		}

		function resetGame(){
			triesLeft = 10;
			guessList = [];
			updateCurrentLetter();
			updateGuessList();
			updateTriesLeft();
			document.getElementById("gameOverDiv").style.display = "none";
		}

		updateCurrentLetter();
		updateTriesLeft();

		document.onkeyup = function(event){
			triesLeft--
			var userInput = String.fromCharCode(event.keyCode).toLowerCase();
			guessList.push(userInput);
			updateTriesLeft();
			updateGuessList();

			if (triesLeft > 0){
				if (currentLetter === userInput){
					console.log(`currentLetter is equal to userInput, increasing Win counter`)
					win++;
					document.getElementById("winCounter").innerHTML = "<h3> You Win!!!</h3> Wins: " + win;
			        document.getElementById("gameOverDiv").style.display = "block";
			        if(event.keyCode == 32){
				        setGame();
				    }
				}

				else {
					triesLeft--;
					
					document.getElementById("guessLeftCounter").innerHTML = "Guesses Left: " + triesLeft;
					document.getElementById("guessSoFar").innerHTML = "Your Guesses so far: " + guessList;
				}
			}

			else{
				console.log(`the, the loss counter is currently ${lose}`);
				lose++;
				document.getElementById("gameOverDiv").style.display = "block";
			    if(event.keyCode == 32){
				    setGame();
		}
			    }
	    	}
	
	</script>

</body>
</html>